!function e(t,r,n){function i(u,s){if(!r[u]){if(!t[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[u]={exports:{}};t[u][0].call(f.exports,function(e){var r=t[u][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,t,r){"use strict";function n(e,t){for(var r=e,n=0,i=t.length;n<i;n++){var o=t[n];if(r=r[o],!r)break}return r}var i=e("pouchdb-collate").collate,o=e("pouchdb-find/lib/adapters/local/find/in-memory-filter"),u=e("pouchdb-find/lib/utils"),s=e("pouchdb-find/lib/adapters/local/utils"),a=s.getUserFields,c=s.getKey,f=s.getValue,l=s.parseField;r.memoryFilter=function(e,t){var r=a(t.selector,t.sort),n=r.fields,i=e.map(function(e){return{doc:e}});return o(i,t,n).map(function(e){return e.doc})},r.createFieldSorter=function(e){function t(t){return e.map(function(e){var r=c(e),i=l(r),o=n(t,i);return o})}var r=e.map(function(e){return"string"!=typeof e&&"desc"===f(e)?-1:1});return function(e,n){for(var o=t(e),s=t(n),a=0,c=r.length;a<c;a++){var f=i(o[a],s[a]);if(0!==f)return f*r[a]}return u.compare(e._id,n._id)*r[0]}}},{"pouchdb-collate":8,"pouchdb-find/lib/adapters/local/find/in-memory-filter":10,"pouchdb-find/lib/adapters/local/utils":11,"pouchdb-find/lib/utils":12}],2:[function(e,t,r){"use strict";function n(e){function t(e){T.then(function(){e.doc&&p(e.doc)})}function r(e){$.emit("error",e)}function n(){w||(_._activeQueries--,_._activeQueries?(_._changeListener.removeListener("change",t),_._changeListener.removeListener("error",r)):(_._changeListener.cancel(),delete _._changeListener),$.emit("cancelled"),$.removeAllListeners(),w=!0)}function s(){_._changeListener=_.changes({live:!0,retry:!0,include_docs:!0,since:"now"})}function f(e){var t=o.memoryFilter([e],{selector:F});return t.length?t[0]:null}function l(e){if(j){var t=u.pick(e,j);return O&&delete t._id,E&&delete t._rev,t}return e}function h(e){A[e._id]=e._rev;var t=e._id,r=e._rev;return O&&delete e._id,E&&delete e._rev,v(e,t,r)}function p(e){if(A[e._id]!==e._rev){var t=e._id,r=e._rev;if(e._deleted&&A[t])return A[t]=null,d({_id:t,_rev:r,deleted:!0},t,r);var n=f(e);return!n&&A[t]?(A[t]=null,d({_id:t,_rev:r},t,r)):n&&!A[t]?(A[t]=r,v(l(n),t,r)):n&&A[t]?(A[t]=r,g(l(n),t,r)):void 0}}function d(e,t,r){var n;k&&(x=x.filter(function(t){return t._id!==e._id}),n=m(x)),$.emit("update",{action:"REMOVE",id:t,rev:r,doc:e},n)}function v(e,t,r){var n;k&&(x=x.concat(e),n=m(x)),$.emit("update",{action:"ADD",id:t,rev:r,doc:e},n)}function g(e,t,r){var n;k&&(x=x.map(function(t){return t._id===e._id?e:t}),n=m(x)),$.emit("update",{action:"UPDATE",id:t,rev:r,doc:e},n)}function y(e){return e.sort(I)}function m(e){return L&&(e=y(e)),(S||M)&&(e=M?e.slice(S,S+M):e.slice(S)),e}function b(e){if(k&&e&&"object"==typeof e)return null!=e.skip&&(S=parseInt(e.skip,10)||0),null!=e.limit&&(M=parseInt(e.limit,10)||0),e.sort&&e.sort instanceof Array&&(L=c(e.sort),I=o.createFieldSorter(L)),m(x)}if("function"!=typeof this.find)throw new Error("ERROR: PouchDB Find is a requirement for LiveFind and must be loaded first.");var _=this,w=!1,A={},$=new i,x=[],k=e.aggregate||!1,j=e.fields,O=!1,E=!1;j&&(j.indexOf("_id")===-1&&(j.unshift("_id"),O=!0),j.indexOf("_rev")===-1&&(j.push("_rev"),E=!0));var F;e.selector&&(F=a(e.selector));var L,I;e.sort&&(L=c(e.sort),I=o.createFieldSorter(L));var S=parseInt(e.skip,10)||0,M=parseInt(e.limit,10)||0,C={selector:F,fields:j},T=_.find(C).then(function(e){e.docs.forEach(function(e){h(e)}),$.emit("ready")}).catch(function(e){throw $.emit("error",e),n(),e});return _._changeListener||s(),_._activeQueries?_._activeQueries++:_._activeQueries=1,_._changeListener.on("change",t).on("error",r),$.cancel=n,$.then=T.then.bind(T),$.catch=T.catch.bind(T),$.sort=function(e){return L?y(e):e},$.paginate=b,$}var i=e("events"),o=e("./helpers"),u=(e("pouchdb-collate").collate,e("pouchdb-find/lib/utils")),s=e("pouchdb-find/lib/adapters/local/utils"),a=(s.getValue,s.massageSelector),c=s.massageSort;r.liveFind=n,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(r)},{"./helpers":1,events:4,"pouchdb-collate":8,"pouchdb-find/lib/adapters/local/utils":11,"pouchdb-find/lib/utils":12}],3:[function(e,t,r){},{}],4:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function u(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,o,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(r=this._events[e],s(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(u(r))for(o=Array.prototype.slice.call(arguments,1),c=r.slice(),n=c.length,a=0;a<n;a++)c[a].apply(this,o);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?u(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,u(this._events[e])&&!this._events[e].warned&&(r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(u(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],5:[function(e,t,r){(function(e){"use strict";function r(){f=!0;for(var e,t,r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}f=!1}function n(e){1!==l.push(e)||f||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var u=0,s=new o(r),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),i=function(){a.data=u=++u%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){r(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(r,0)};else{var c=new e.MessageChannel;c.port1.onmessage=r,i=function(){c.port2.postMessage(0)}}var f,l=[];t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],8:[function(e,t,r){"use strict";function n(e,t,r){for(var n="",i=r-e.length;n.length<i;)n+=t;return n}function i(e,t,r){var i=n(e,t,r);return i+e}function o(e,t){if(e===t)return 0;e=u(e),t=u(t);var r=v(e),n=v(t);if(r-n!==0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return p(e,t)}return Array.isArray(e)?h(e,t):d(e,t)}function u(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=u(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];"undefined"!=typeof o&&(e[i]=u(o))}}}}return e}function s(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return g(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,o="";if(t)for(;++n<i;)o+=a(r[n]);else for(;++n<i;){var u=r[n];o+=a(u)+a(e[u])}return o}return""}function a(e){var t="\0";return e=u(e),v(e)+b+s(e)+t}function c(e,t){var r,n=t,i="1"===e[t];if(i)r=0,t++;else{var o="0"===e[t];t++;var u="",s=e.substring(t,t+m),a=parseInt(s,10)+y;for(o&&(a=-a),t+=m;;){var c=e[t];if("\0"===c)break;u+=c,t++}u=u.split("."),r=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),o&&(r-=10),0!==a&&(r=parseFloat(r+"e"+a))}return{num:r,length:t-n}}function f(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,o=n.index;if(Array.isArray(i))i.push(r);else if(o===e.length-2){var u=e.pop();i[u]=r}else e.push(r)}}function l(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var o=c(e,n);t.push(o.num),n+=o.length;break;case"4":for(var u="";;){var s=e[n];if("\0"===s)break;u+=s,n++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var a={element:[],index:t.length};t.push(a.element),r.push(a);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();f(t,r)}}}function h(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=o(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}function p(e,t){return e===t?0:e>t?1:-1}function d(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),u=0;u<i;u++){var s=o(r[u],n[u]);if(0!==s)return s;if(s=o(e[r[u]],t[n[u]]),0!==s)return s}return r.length===n.length?0:r.length>n.length?1:-1}function v(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function g(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,o=n?"0":"2",u=(n?-r:r)-y,s=i(u.toString(),"0",m);o+=b+s;var a=Math.abs(parseFloat(t[0]));n&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=b+c}Object.defineProperty(r,"__esModule",{value:!0});var y=-324,m=3,b="";r.collate=o,r.normalizeKey=u,r.toIndexableString=a,r.parseIndexableString=l},{}],9:[function(e,t,r){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[p.call(e)]||"object":typeof e}function i(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||i(e))return!1;try{if(e.constructor&&!d.call(e,"constructor")&&!d.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||d.call(e,t)}function u(e){return"function"===n(e)}function s(){for(var e=[],t=-1,r=arguments.length,n=new Array(r);++t<r;)n[t]=arguments[t];var i={};e.push({args:n,result:{container:i,key:"key"}});for(var o;o=e.pop();)a(e,o.args,o.result);return i.key}function a(e,t,r){var n,i,s,a,c,f,l,h=t[0]||{},p=1,d=t.length,g=!1,y=/\d+/;for("boolean"==typeof h&&(g=h,h=t[1]||{},p=2),"object"==typeof h||u(h)||(h={}),d===p&&(h=this,--p);p<d;p++)if(null!=(n=t[p])){l=v(n);for(i in n)if(!(i in Object.prototype)){if(l&&!y.test(i))continue;if(s=h[i],a=n[i],h===a)continue;g&&a&&(o(a)||(c=v(a)))?(c?(c=!1,f=s&&v(s)?s:[]):f=s&&o(s)?s:{},e.push({args:[g,f,a],result:{container:h,key:i}})):void 0!==a&&(v(n)&&u(a)||(h[i]=a))}}r.container[r.key]=h}for(var c={},f=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],l=0;l<f.length;l++){var h=f[l];c["[object "+h+"]"]=h.toLowerCase()}var p=c.toString,d=c.hasOwnProperty,v=Array.isArray||function(e){return"array"===n(e)};t.exports=s},{}],10:[function(e,t,r){"use strict";function n(e){function t(t){return e.map(function(e){var r=w(e),n=$(r),i=k(t,n);return i})}return function(e,r){var n=t(e.doc),i=t(r.doc),o=m(n,i);return 0!==o?o:x.compare(e.doc._id,r.doc._id)}}function i(e,t,r){if(e=e.filter(function(e){return o(e.doc,t.selector,r)}),t.sort){var i=n(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===A(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var u=t.skip||0,s=("limit"in t?t.limit:e.length)+u;e=e.slice(u,s)}return e}function o(e,t,r){return r.every(function(r){var n=t[r],i=$(r),o=k(e,i);return _(r)?s(r,n,e):u(n,e,i,o)})}function u(e,t,r,n){return!e||Object.keys(e).every(function(i){var o=e[i];return a(i,t,o,r,n)})}function s(e,t,r){return"$or"===e?t.some(function(e){return o(r,e,Object.keys(e))}):"$not"===e?!o(r,t,Object.keys(t)):!t.find(function(e){return o(r,e,Object.keys(e))})}function a(e,t,r,n,i){if(!j[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type or $all');return j[e](t,r,n,i)}function c(e){return"undefined"!=typeof e&&null!==e}function f(e){return"undefined"!=typeof e}function l(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}function h(e,t){return t.some(function(t){return e instanceof Array?e.indexOf(t)>-1:e===t})}function p(e,t){return t.every(function(t){return e.indexOf(t)>-1})}function d(e,t){return e.length===t}function v(e,t){var r=new RegExp(t);return r.test(e)}function g(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var y=e("is-array"),m=e("pouchdb-collate").collate,b=e("../utils"),_=b.isCombinationalField,w=b.getKey,A=b.getValue,$=b.parseField,x=e("../../../utils"),k=x.getFieldFromDoc,j={$elemMatch:function(e,t,r,n){return!!y(n)&&(0!==n.length&&("object"==typeof n[0]?n.some(function(e){return o(e,t,Object.keys(t))}):n.some(function(n){return u(t,e,r,n)})))},$eq:function(e,t,r,n){return f(n)&&0===m(n,t)},$gte:function(e,t,r,n){return f(n)&&m(n,t)>=0},$gt:function(e,t,r,n){return f(n)&&m(n,t)>0},$lte:function(e,t,r,n){return f(n)&&m(n,t)<=0},$lt:function(e,t,r,n){return f(n)&&m(n,t)<0},$exists:function(e,t,r,n){return t?f(n):!f(n)},$mod:function(e,t,r,n){return c(n)&&l(n,t)},$ne:function(e,t,r,n){return t.every(function(e){return 0!==m(n,e)})},$in:function(e,t,r,n){return c(n)&&h(n,t)},$nin:function(e,t,r,n){return c(n)&&!h(n,t)},$size:function(e,t,r,n){return c(n)&&d(n,t)},$all:function(e,t,r,n){return y(n)&&p(n,t)},$regex:function(e,t,r,n){return c(n)&&v(n,t)},$type:function(e,t,r,n){return g(n,t)}};t.exports=i},{"../../../utils":12,"../utils":11,"is-array":7,"pouchdb-collate":16}],11:[function(e,t,r){"use strict";function n(e){return Object.keys(e)[0]}function i(e){return e[n(e)]}function o(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})}function u(e){return $.indexOf(e)>-1}function s(e,t,r){"undefined"==typeof r.$eq&&("undefined"!=typeof r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):"undefined"!=typeof r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function a(e,t,r){"undefined"==typeof r.$eq&&("undefined"!=typeof r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):"undefined"!=typeof r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function c(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function f(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function l(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(r){var n=e[r];if("object"!=typeof n&&(n={$eq:n}),u(r))n instanceof Array?t[r]=n.map(function(e){return l([e])}):t[r]=l([n]);else{var i=t[r]=t[r]||{};Object.keys(n).forEach(function(e){var t=n[e];return"$gt"===e||"$gte"===e?s(e,t,i):"$lt"===e||"$lte"===e?a(e,t,i):"$ne"===e?c(t,i):"$eq"===e?f(t,i):void(i[e]=t)})}})}),t}function h(e){var t=w.clone(e),r=!1;"$and"in t&&(t=l(t.$and),r=!0),"$not"in t&&(t.$not=l([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],u=t[o];"object"!=typeof u||null===u?u={$eq:u}:"$ne"in u&&!r&&(u.$ne=[u.$ne]),t[o]=u}return t}function p(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}),e}function d(e,t){for(var r=[],i=0;i<t.def.fields.length;i++){var o=n(t.def.fields[i]);r.push(e[o])}return r}function v(e,t,r){for(var n=r.def.fields,i=0,o=e.length;i<o;i++){var u=e[i],s=d(u.doc,r);if(1===n.length)s=s[0];else for(;s.length>t.length;)s.pop();if(Math.abs(A.collate(s,t))>0)break}return i>0?e.slice(i):e}function g(e){var t=w.clone(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function y(e){var t=e.fields.filter(function(e){return"asc"===i(e)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function m(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}t.defaultUsed}function b(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}function _(e,t){var r,i=Object.keys(e),o=t?t.map(n):[];return r=i.length>=o.length?i:o,0===o.length?{fields:r}:(r=r.sort(function(e,t){var r=o.indexOf(e);r===-1&&(r=Number.MAX_VALUE);var n=o.indexOf(t);return n===-1&&(n=Number.MAX_VALUE),r<n?-1:r>n?1:0}),{fields:r,sortOrder:t.map(n)})}var w=e("../../utils"),A=e("pouchdb-collate"),$=["$or","$nor","$not"];t.exports={getKey:n,getValue:i,massageSort:o,massageSelector:h,validateIndex:y,validateFindRequest:b,validateSort:m,reverseOptions:g,filterInclusiveStart:v,massageIndexDef:p,parseField:w.parseField,getUserFields:_,isCombinationalField:u}},{"../../utils":12,"pouchdb-collate":16}],12:[function(e,t,r){(function(t){"use strict";var n=e("pouchdb-promise");r.once=function(e){var t=!1;return r.getArguments(function(r){if(t)throw console.trace(),new Error("once called  more than once");t=!0,e.apply(this,r)})},r.getArguments=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}},r.toPromise=function(e){return r.getArguments(function(i){var o,u=this,s="function"==typeof i[i.length-1]&&i.pop();s&&(o=function(e,r){t.nextTick(function(){s(e,r)})});var a=new n(function(t,n){try{var o=r.once(function(e,r){e?n(e):t(r)});i.push(o),e.apply(u,i)}catch(e){n(e)}});return o&&a.then(function(e){o(null,e)},o),a.cancel=function(){return this},a})},r.inherits=e("inherits"),r.Promise=n,r.clone=function(e){return r.extend(!0,{},e)},r.extend=e("pouchdb-extend"),r.callbackify=function(e){return r.getArguments(function(t){var n=t.pop(),i=e.apply(this,t);return r.promisedCallback(i,n),i})},r.promisedCallback=function(e,r){return e.then(function(e){t.nextTick(function(){r(null,e)})},function(e){t.nextTick(function(){r(e)})}),e};var i=e("crypto"),o=e("spark-md5");r.MD5=function(e){return t.browser?o.hash(e):i.createHash("md5").update(e).digest("hex")},r.flatten=r.getArguments(function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];Array.isArray(o)?t=t.concat(r.flatten.apply(null,o)):t.push(o)}return t}),r.mergeObjects=function(e){for(var t={},n=0,i=e.length;n<i;n++)t=r.extend(!0,t,e[n]);return t},r.getFieldFromDoc=function(e,t){for(var r=e,n=0,i=t.length;n<i;n++){var o=t[n];if(r=r[o],!r)break}return r},r.setFieldInDoc=function(e,t,r){for(var n=0,i=t.length;n<i-1;n++){var o=t[n];e=e[o]={}}e[t[i-1]]=r},r.parseField=function(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var o=e[n];"."===o?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=o}return t.push(r),t},r.pick=function(e,t){for(var n={},i=0,o=t.length;i<o;i++){var u=r.parseField(t[i]),s=r.getFieldFromDoc(e,u);"undefined"!=typeof s&&r.setFieldInDoc(n,u,s)}return n},r.oneArrayIsSubArrayOfOther=function(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0},r.oneArrayIsStrictSubArrayOfOther=function(e,t){return!(e.length>t.length)&&r.oneArrayIsSubArrayOfOther(e,t)},r.oneSetIsSubArrayOfOther=function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var i=t[r];if(!e.length)break;var o=e.indexOf(i);if(o===-1)return!1;e.splice(o,1)}return!0},r.compare=function(e,t){return e<t?-1:e>t?1:0},r.arrayToObject=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t},r.max=function(e,t){for(var r=null,n=-1,i=0,o=e.length;i<o;i++){var u=e[i],s=t(u);s>n&&(n=s,r=u)}return r},r.arrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},r.uniq=function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(e){return e.substring(1)})},r.log=e("debug")("pouchdb:find")}).call(this,e("_process"))},{_process:20,crypto:3,debug:13,inherits:6,"pouchdb-extend":9,"pouchdb-promise":18,"spark-md5":21}],13:[function(e,t,r){(function(n){function i(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function o(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),t){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,n)}}function u(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}}function a(){try{return r.storage.debug}catch(e){}if("undefined"!=typeof n&&"env"in n)return n.env.DEBUG}function c(){try{return window.localStorage}catch(e){}}r=t.exports=e("./debug"),r.log=u,r.formatArgs=o,r.save=s,r.load=a,r.useColors=i,r.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(a())}).call(this,e("_process"))},{"./debug":14,_process:20}],14:[function(e,t,r){function n(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}function i(e){function t(){if(t.enabled){var e=t,n=+new Date,i=n-(c||n);e.diff=i,e.prev=c,e.curr=n,c=n;for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];o[0]=r.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var s=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;s++;var i=r.formatters[n];if("function"==typeof i){var u=o[s];t=i.call(e,u),o.splice(s,1),s--}return t}),r.formatArgs.call(e,o);var a=t.log||r.log||console.log.bind(console);a.apply(e,o)}}return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=n(e),"function"==typeof r.init&&r.init(t),t}function o(e){r.save(e);for(var t=(e||"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&(e=t[i].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function u(){r.enable("")}function s(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}r=t.exports=i.debug=i.default=i,r.coerce=a,r.disable=u,r.enable=o,r.enabled=s,r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={};var c},{ms:15}],15:[function(e,t,r){function n(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*f;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function i(e){return e>=f?Math.round(e/f)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return u(e,f,"day")||u(e,c,"hour")||u(e,a,"minute")||u(e,s,"second")||e+" ms"}function u(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}var s=1e3,a=60*s,c=60*a,f=24*c,l=365.25*f;t.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return n(e);if("number"===r&&isNaN(e)===!1)return t.long?o(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],16:[function(e,t,r){"use strict";function n(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,o=n.length,u="";if(t)for(;++i<o;)u+=r.toIndexableString(n[i]);else for(;++i<o;){var s=n[i];u+=r.toIndexableString(s)+r.toIndexableString(e[s])}return u}return""}function i(e,t){var r,n=t,i="1"===e[t];if(i)r=0,t++;else{var o="0"===e[t];t++;var u="",s=e.substring(t,t+h),a=parseInt(s,10)+l;for(o&&(a=-a),t+=h;;){var c=e[t];if("\0"===c)break;u+=c,t++}u=u.split("."),r=1===u.length?parseInt(u,10):parseFloat(u[0]+"."+u[1]),o&&(r-=10),0!==a&&(r=parseFloat(r+"e"+a))}return{num:r,length:t-n}}function o(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,o=n.index;if(Array.isArray(i))i.push(r);else if(o===e.length-2){var u=e.pop();i[u]=r}else e.push(r)}}function u(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=r.collate(e[i],t[i]);if(0!==o)return o}return e.length===t.length?0:e.length>t.length?1:-1}function s(e,t){return e===t?0:e>t?1:-1}function a(e,t){for(var n=Object.keys(e),i=Object.keys(t),o=Math.min(n.length,i.length),u=0;u<o;u++){var s=r.collate(n[u],i[u]);if(0!==s)return s;if(s=r.collate(e[n[u]],t[i[u]]),0!==s)return s}return n.length===i.length?0:n.length>i.length?1:-1}function c(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",o=(n?-r:r)-l,u=d.padLeft(o.toString(),"0",h);i+=p+u;var s=Math.abs(parseFloat(t[0]));n&&(s=10-s);var a=s.toFixed(20);return a=a.replace(/\.?0+$/,""),i+=p+a}var l=-324,h=3,p="",d=e("./utils");r.collate=function(e,t){if(e===t)return 0;e=r.normalizeKey(e),t=r.normalizeKey(t);var n=c(e),i=c(t);if(n-i!==0)return n-i;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:e<t?-1:1;case"string":return s(e,t)}return Array.isArray(e)?u(e,t):a(e,t)},r.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-(1/0)||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=r.normalizeKey(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var o in t)if(t.hasOwnProperty(o)){var u=t[o];"undefined"!=typeof u&&(e[o]=r.normalizeKey(u))}}}}return e},r.toIndexableString=function(e){var t="\0";return e=r.normalizeKey(e),c(e)+p+n(e)+t},r.parseIndexableString=function(e){for(var t=[],r=[],n=0;;){var u=e[n++];if("\0"!==u)switch(u){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var s=i(e,n);t.push(s.num),n+=s.length;break;case"4":for(var a="";;){var c=e[n];if("\0"===c)break;a+=c,n++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var f={element:[],index:t.length};t.push(f.element),r.push(f);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+u)}else{if(1===t.length)return t.pop();o(t,r)}}}},{"./utils":17}],17:[function(e,t,r){"use strict";function n(e,t,r){for(var n="",i=r-e.length;n.length<i;)n+=t;return n}r.padLeft=function(e,t,r){var i=n(e,t,r);return i+e},r.padRight=function(e,t,r){var i=n(e,t,r);return e+i},r.stringLexCompare=function(e,t){var r,n=e.length,i=t.length;for(r=0;r<n;r++){if(r===i)return 1;var o=e.charAt(r),u=t.charAt(r);if(o!==u)return o<u?-1:1}return n<i?-1:0},r.intToDecimalForm=function(e){var t=e<0,r="";
do{var n=t?-Math.ceil(e%10):Math.floor(e%10);r=n+r,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==r&&(r="-"+r),r}},{}],18:[function(e,t,r){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=n(e("lie")),o="function"==typeof Promise?Promise:i;t.exports=o},{lie:19}],19:[function(e,t,r){"use strict";function n(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,e!==n&&a(this,e)}function o(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){d(function(){var n;try{n=t(r)}catch(t){return v.reject(e,t)}n===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,n)})}function s(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function a(e,t){function r(t){o||(o=!0,v.reject(e,t))}function n(t){o||(o=!0,v.resolve(e,t))}function i(){t(n,r)}var o=!1,u=c(i);"error"===u.status&&r(u.value)}function c(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function f(e){return e instanceof this?e:v.resolve(new this(n),e)}function l(e){var t=new this(n);return v.reject(t,e)}function h(e){function t(e,t){function n(e){u[t]=e,++s!==i||o||(o=!0,v.resolve(c,u))}r.resolve(e).then(n,function(e){o||(o=!0,v.reject(c,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var u=new Array(i),s=0,a=-1,c=new this(n);++a<i;)t(e[a],a);return c}function p(e){function t(e){r.resolve(e).then(function(e){o||(o=!0,v.resolve(s,e))},function(e){o||(o=!0,v.reject(s,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var u=-1,s=new this(n);++u<i;)t(e[u]);return s}var d=e("immediate"),v={},g=["REJECTED"],y=["FULFILLED"],m=["PENDING"];t.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===y||"function"!=typeof t&&this.state===g)return this;var r=new this.constructor(n);if(this.state!==m){var i=this.state===y?e:t;u(r,i,this.outcome)}else this.queue.push(new o(r,e,t));return r},o.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){v.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},v.resolve=function(e,t){var r=c(s,t);if("error"===r.status)return v.reject(e,r.value);var n=r.value;if(n)a(e,n);else{e.state=y,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},v.reject=function(e,t){e.state=g,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},i.resolve=f,i.reject=l,i.all=h,i.race=p},{immediate:5}],20:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function u(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?v=d.concat(v):y=-1,v.length&&a())}function a(){if(!g){var e=o(s);g=!0;for(var t=v.length;t;){for(d=v,v=[];++y<t;)d&&d[y].run();y=-1,t=v.length}d=null,g=!1,u(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}var l,h,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var d,v=[],g=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];v.push(new c(e,t)),1!==v.length||g||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],21:[function(e,t,r){!function(e){if("object"==typeof r)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var n;try{n=window}catch(e){n=self}n.SparkMD5=e()}}(function(e){"use strict";var t=function(e,t){return e+t&4294967295},r=function(e,r,n,i,o,u){return r=t(t(r,e),t(i,u)),t(r<<o|r>>>32-o,n)},n=function(e,t,n,i,o,u,s){return r(t&n|~t&i,e,t,o,u,s)},i=function(e,t,n,i,o,u,s){return r(t&i|n&~i,e,t,o,u,s)},o=function(e,t,n,i,o,u,s){return r(t^n^i,e,t,o,u,s)},u=function(e,t,n,i,o,u,s){return r(n^(t|~i),e,t,o,u,s)},s=function(e,r){var s=e[0],a=e[1],c=e[2],f=e[3];s=n(s,a,c,f,r[0],7,-680876936),f=n(f,s,a,c,r[1],12,-389564586),c=n(c,f,s,a,r[2],17,606105819),a=n(a,c,f,s,r[3],22,-1044525330),s=n(s,a,c,f,r[4],7,-176418897),f=n(f,s,a,c,r[5],12,1200080426),c=n(c,f,s,a,r[6],17,-1473231341),a=n(a,c,f,s,r[7],22,-45705983),s=n(s,a,c,f,r[8],7,1770035416),f=n(f,s,a,c,r[9],12,-1958414417),c=n(c,f,s,a,r[10],17,-42063),a=n(a,c,f,s,r[11],22,-1990404162),s=n(s,a,c,f,r[12],7,1804603682),f=n(f,s,a,c,r[13],12,-40341101),c=n(c,f,s,a,r[14],17,-1502002290),a=n(a,c,f,s,r[15],22,1236535329),s=i(s,a,c,f,r[1],5,-165796510),f=i(f,s,a,c,r[6],9,-1069501632),c=i(c,f,s,a,r[11],14,643717713),a=i(a,c,f,s,r[0],20,-373897302),s=i(s,a,c,f,r[5],5,-701558691),f=i(f,s,a,c,r[10],9,38016083),c=i(c,f,s,a,r[15],14,-660478335),a=i(a,c,f,s,r[4],20,-405537848),s=i(s,a,c,f,r[9],5,568446438),f=i(f,s,a,c,r[14],9,-1019803690),c=i(c,f,s,a,r[3],14,-187363961),a=i(a,c,f,s,r[8],20,1163531501),s=i(s,a,c,f,r[13],5,-1444681467),f=i(f,s,a,c,r[2],9,-51403784),c=i(c,f,s,a,r[7],14,1735328473),a=i(a,c,f,s,r[12],20,-1926607734),s=o(s,a,c,f,r[5],4,-378558),f=o(f,s,a,c,r[8],11,-2022574463),c=o(c,f,s,a,r[11],16,1839030562),a=o(a,c,f,s,r[14],23,-35309556),s=o(s,a,c,f,r[1],4,-1530992060),f=o(f,s,a,c,r[4],11,1272893353),c=o(c,f,s,a,r[7],16,-155497632),a=o(a,c,f,s,r[10],23,-1094730640),s=o(s,a,c,f,r[13],4,681279174),f=o(f,s,a,c,r[0],11,-358537222),c=o(c,f,s,a,r[3],16,-722521979),a=o(a,c,f,s,r[6],23,76029189),s=o(s,a,c,f,r[9],4,-640364487),f=o(f,s,a,c,r[12],11,-421815835),c=o(c,f,s,a,r[15],16,530742520),a=o(a,c,f,s,r[2],23,-995338651),s=u(s,a,c,f,r[0],6,-198630844),f=u(f,s,a,c,r[7],10,1126891415),c=u(c,f,s,a,r[14],15,-1416354905),a=u(a,c,f,s,r[5],21,-57434055),s=u(s,a,c,f,r[12],6,1700485571),f=u(f,s,a,c,r[3],10,-1894986606),c=u(c,f,s,a,r[10],15,-1051523),a=u(a,c,f,s,r[1],21,-2054922799),s=u(s,a,c,f,r[8],6,1873313359),f=u(f,s,a,c,r[15],10,-30611744),c=u(c,f,s,a,r[6],15,-1560198380),a=u(a,c,f,s,r[13],21,1309151649),s=u(s,a,c,f,r[4],6,-145523070),f=u(f,s,a,c,r[11],10,-1120210379),c=u(c,f,s,a,r[2],15,718787259),a=u(a,c,f,s,r[9],21,-343485551),e[0]=t(s,e[0]),e[1]=t(a,e[1]),e[2]=t(c,e[2]),e[3]=t(f,e[3])},a=function(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r},c=function(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r},f=function(e){var t,r,n,i,o,u,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(f,a(e.substring(t-64,t)));for(e=e.substring(t-64),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(s(f,n),t=0;t<16;t+=1)n[t]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,n[14]=o,n[15]=u,s(f,n),f},l=function(e){var t,r,n,i,o,u,a=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)s(f,c(e.subarray(t-64,t)));for(e=t-64<a?e.subarray(t-64):new Uint8Array(0),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(s(f,n),t=0;t<16;t+=1)n[t]=0;return i=8*a,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,n[14]=o,n[15]=u,s(f,n),f},h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],p=function(e){var t,r="";for(t=0;t<4;t+=1)r+=h[e>>8*t+4&15]+h[e>>8*t&15];return r},d=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=p(e[t]);return e.join("")},v=function(e){return d(f(e))},g=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==v("hello")&&(t=function(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}),g.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},g.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)s(this._state,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},g.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),r=e?this._state:d(this._state),this.reset(),r},g.prototype._finish=function(e,t){var r,n,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(s(this._state,e),o=0;o<16;o+=1)e[o]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(r[2],16),i=parseInt(r[1],16)||0,e[14]=n,e[15]=i,s(this._state,e)},g.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},g.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var r=f(e);return t?r:d(r)},g.hashBinary=function(e,t){var r=f(e);return t?r:d(r)},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(e){var t,r=this._concatArrayBuffer(this._buff,e),n=r.length;for(this._length+=e.byteLength,t=64;t<=n;t+=64)s(this._state,c(r.subarray(t-64,t)));return this._buff=t-64<n?r.subarray(t-64):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=n[t]<<(t%4<<3);return this._finish(o,i),r=e?this._state:d(this._state),this.reset(),r},g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var r=e.length,n=new Uint8Array(r+t.byteLength);return n.set(e),n.set(new Uint8Array(t),r),n},g.ArrayBuffer.hash=function(e,t){var r=l(new Uint8Array(e));return t?r:d(r)},g})},{}]},{},[2]);